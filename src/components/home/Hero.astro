<section class="hero-section w-full font-sans">
  <!-- ğŸ”¹ Tira Superior -->
  <div
    class="w-full bg-red-700 py-1 px-6 flex items-center justify-between shadow-md"
  >
    <!-- Izquierda (BotÃ³n destacado) -->
    <a
      href="/oferta-especial"
      class="px-6 py-0.5 text-sm font-semibold text-white bg-yellow-500 rounded-full shadow-lg hover:bg-yellow-400 transition"
    >
      Â¡Comienza tu pedido AQUÃ!
    </a>

    <!-- Derecha (dos enlaces simples) -->
    <div class="flex gap-6">
      <a
        href="/promo-2x1"
        class="text-lg font-semibold text-white hover:text-yellow-300 transition"
      >
        2x1 en Pizzas
      </a>
      <a
        href="/bebida-gratis"
        class="text-lg font-semibold text-white hover:text-yellow-300 transition"
      >
        Bebida Gratis
      </a>
    </div>
  </div>

  <!-- ğŸ”¹ Tira Inferior -->
  <div
    class="w-full bg-green-700 py-3 px-6 flex items-center justify-center text-center"
  >
    <p class="text-lg font-bold text-white tracking-wide">
      ğŸ• 50% de DTO en toda la Carta con cupÃ³n <span class="text-yellow-300"
        >50DTO</span
      > | ğŸšš Hoy Delivery GRATIS desde <span class="text-yellow-300"
        >S/23.90</span
      >.
      <span class="uppercase text-yellow-400">Â¡Exclusivo en Web!</span>
    </p>
  </div>

  <!-- ğŸ”¹ Carrusel -->
  <div class="relative w-full h-[50vh] overflow-hidden wraper">
    <div
      id="carousel"
      class="flex transition-transform duration-700 ease-in-out"
      style="transform: translateX(-100%)"
    >
      <!-- Clon Ãºltimo -->
      <img
        src="/promocion1.jpg"
        class="w-full flex-shrink-0 object-cover h-full"
        alt="Pizza 4"
      />

      <!-- Slides -->
      <img
        src="/promocion1.jpg"
        class="w-full flex-shrink-0 object-cover h-full"
        alt="Pizza 1"
      />
      <img
        src="/promocion1.jpg"
        class="w-full flex-shrink-0 object-cover h-full"
        alt="Pizza 2"
      />
      <img
        src="/promocion1.jpg"
        class="w-full flex-shrink-0 object-cover h-full"
        alt="Pizza 3"
      />
      <img
        src="/promocion1.jpg"
        class="w-full flex-shrink-0 object-cover h-full"
        alt="Pizza 4"
      />

      <!-- Clon primero -->
      <img
        src="/promocion1.jpg"
        class="w-full flex-shrink-0 object-cover h-full"
        alt="Pizza 1"
      />
    </div>

    <!-- Contenedor de botones -->
    <div
      class="absolute inset-x-0 top-1/2 -translate-y-1/2 flex justify-between px-4 sm:px-8"
    >
      <!-- BotÃ³n anterior -->
      <button
        id="prev"
        aria-label="Anterior"
        class="bg-red-600/70 text-white p-1.5 sm:p-3 rounded-full shadow-md hover:bg-red-700 transition mx-1 sm:mx-0"
      >
        â®
      </button>

      <!-- BotÃ³n siguiente -->
      <button
        id="next"
        aria-label="Siguiente"
        class="bg-red-600/70 text-white p-1.5 sm:p-3 rounded-full shadow-md hover:bg-red-700 transition mx-1 sm:mx-0"
      >
        â¯
      </button>
    </div>
  </div>
</section>

<!-- Script Carrusel -->
<script>
  (function () {
    const carousel = document.getElementById("carousel");
    const btnPrev = document.getElementById("prev");
    const btnNext = document.getElementById("next");

    if (!carousel || !btnPrev || !btnNext) return;

    const slides = carousel.children;
    const slidesCount = slides.length;
    let index = 1;
    let isAnimating = false;
    let autoSlide: number | undefined = undefined;

    function updateTransform() {
      if (!carousel) return;
      carousel.style.transform = `translateX(-${index * 100}%)`;
    }

    function moveTo(i: number) {
      if (isAnimating) return;
      isAnimating = true;
      index = i;
      if (carousel) {
        carousel.style.transition = "transform 0.7s ease-in-out";
      }
      updateTransform();
    }

    function startAutoSlide() {
      autoSlide = setInterval(() => moveTo(index + 1), 5000);
    }

    function resetAutoSlide() {
      if (autoSlide) clearInterval(autoSlide);
      startAutoSlide();
    }

    btnNext.addEventListener("click", () => {
      moveTo(index + 1);
      resetAutoSlide();
    });

    btnPrev.addEventListener("click", () => {
      moveTo(index - 1);
      resetAutoSlide();
    });

    carousel.addEventListener("transitionend", () => {
      if (index >= slidesCount - 1) {
        carousel.style.transition = "none";
        index = 1;
        updateTransform();
      }
      if (index <= 0) {
        carousel.style.transition = "none";
        index = slidesCount - 2;
        updateTransform();
      }
      setTimeout(() => {
        if (carousel) {
          carousel.style.transition = "transform 0.7s ease-in-out";
        }
        isAnimating = false;
      }, 20);
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft") btnPrev.click();
      if (e.key === "ArrowRight") btnNext.click();
    });

    // Inicia automÃ¡tico
    startAutoSlide();
  })();
</script>
